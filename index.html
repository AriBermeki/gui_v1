<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Python Invoke Demo</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-gray-100 flex items-center justify-center h-screen">

  <div class="bg-white shadow-xl rounded-2xl p-8 w-96">
    <h1 class="text-2xl font-bold text-center mb-6">🔗 Python Invoke Demo</h1>

    <div class="space-y-4">
      <input id="num1" type="number" placeholder="First number"
        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-blue-300" />
      <input id="num2" type="number" placeholder="Second number"
        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-blue-300" />
      <input id="title" type="text" placeholder="Title"
        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-blue-300" />
    </div>

    <div class="flex justify-between mt-6">
      <button id="btnAdd" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg shadow">
        ➕ Add
      </button>
      <button id="btnMul" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg shadow">
        ✖️ Multiply
      </button>
      <button id="btntitle" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg shadow">
        Change Title
      </button>
    </div>

    <div id="output" class="mt-6 p-4 bg-gray-50 border rounded-lg text-center text-lg font-mono text-gray-800">
      Result will appear here
    </div>
  </div>

  <script>

    function getNumbers() {
      const a = parseInt(document.getElementById("num1").value, 10);
      const b = parseInt(document.getElementById("num2").value, 10);
      return [a || 0, b || 0];
    }

    function showResult(text) {
      document.getElementById("output").textContent = text;
    }

    document.getElementById("btnAdd").addEventListener("click", async () => {
      try {
        const [a, b] = getNumbers();
        const result = await window.invoke("add", [a, b]);
        showResult(`➕  Sum: ${result}`);
      } catch (err) {
        showResult(`❌ Error: ${err.message}`);
      }
    });

    document.getElementById("btnMul").addEventListener("click", async () => {
      try {
        const [a, b] = getNumbers();
        const result = await window.invoke("mul", [a, b]);
        showResult(`✖️ Product: ${result}`);
      } catch (err) {
        showResult(`❌ Error: ${err.message}`);
      }
    });

    document.getElementById("btntitle").addEventListener("click", async () => {
      try {
        const title = document.getElementById("title").value || "Python Invoke Demo";
        const result = await window.invoke("set_title", [title]);
        showResult(`🔤 Title set: ${result}`);
      } catch (err) {
        showResult(`❌ Error: ${err.message}`);
      }
    });
  </script>
</body>

</html>